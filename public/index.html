<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Knockout.js</title>
	<link rel="stylesheet" href="styles/tbs-2.2.1.css" />
	<link rel="stylesheet" href="styles/style.css" />
</head>
<body>
	<div class="content container">
		 <div class="header-container">
    		<header class="main-header row">
        		<div class="span12">
        			<div class="hero-unit">
            			<h1>Flexitid-registrering</h1>
            		</div>
        		</div>
    		</header>
		</div>
		<div class="row">
			<div class="timesheet-form span5">
				<form class="form-horizontal">
					<div class="control-group">
						<label class="control-label" for="sheetDate">Date</label>
						<div class="controls">
							<input type="date" id="sheetDate" placeholder="dd.mm.yy" data-bind="value: flexDate, FlexValidationMsg: flexDate" >
						</div>
					</div>
					<div class="control-group">
						<label class="control-label" for="sheetHours">Hours</label>
						<div class="controls">
							<input type="text" id="sheetHours" placeholder="Number of hours spent" data-bind="value: flexHours, FlexValidationMsg: flexHours">
						</div>
					</div>
					<div class="control-group">
						<label class="control-label" for="sheetDesc">Description</label>
						<div class="controls">
							<textarea id="sheetDesc"  data-bind="value: flexDesc"></textarea>
						</div>
					</div>
					<div class="control-group">
					    <div class="controls">
					      <button class="btn btn-success" data-bind="click: addFlex">Add</button>
					      <button class="btn btn-danger" data-bind="click: spendFlex">Spend</button>
					    </div>
					  </div>
				</form>
			</div>
			<div id="barChart" class="offset1 span6" data-bind="highcharts: registrations"></div>
		</div>
		<div class="alert alert-error" data-bind="visible: totalHours() < 0">
			<p>Ooops! Nå er du på minus-timer!</p>
		</div>

		<div class="timesheet-table" >
			<table class="table table-hover">
				<thead>
					<th data-bind="click: sortDates" id="sortDate" class="clickable">Date<i></i></th>
					<th>Description</th>
					<th>Hours</th>
				</thead>
				<tfoot>
					<td colspan="2">Totals:</td>
					<td ><strong data-bind="text: totalHours().toFixed(2)"></strong></td>
					<td></td>
				</tfoot>
				<tbody data-bind="foreach: registrations">
					<tr>
						<td data-bind="text: date"></td>
						<td data-bind="text: description"></td>
						<td data-bind="text: hours, css: isSpent"></td>
						<td><a href="#" data-bind="click: $root.removeRegistration"><i class="icon-remove"></i></a></td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
	<script type="text/javascript" data-main="/js/main" src="../js/libs/require.js"></script>
</body>
</html>
